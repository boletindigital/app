<ion-header>
  <ion-navbar>
    <button menuToggle  *ngIf="auth.authenticated()">
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Boletín Judicial</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="login">
    <div *ngIf="!auth.authenticated()">
      <ion-segment [(ngModel)]="authType">
        <ion-segment-button value="login">
          Entrar
        </ion-segment-button>
        <ion-segment-button value="signup">
          Registrarse
        </ion-segment-button>
      </ion-segment>
    </div>

    <div [ngSwitch]="authType" *ngIf="!auth.authenticated()">
      <form *ngSwitchCase="'login'" (ngSubmit)="login(loginForm)">
        <ion-item>
          <ion-label floating>Usuario</ion-label>
          <ion-input type="text" name="username" [(ngModel)]="loginForm.username"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating>Contraseña</ion-label>
          <ion-input type="password" name="password" [(ngModel)]="loginForm.password"></ion-input>
        </ion-item>

        <div padding>
          <button block type="submit">Entrar</button>
        </div>
      </form>

      <form *ngSwitchCase="'signup'">
        <ion-card>
          <ion-card-header>
            Aviso
          </ion-card-header>
          <ion-card-content>
            El registro de nuevos abogados está deshabilitado por ahora.
          </ion-card-content>
        </ion-card>

        <ion-item>
          <ion-label floating>Nombre</ion-label>
          <ion-input type="text" disabled="true"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Apellidos</ion-label>
          <ion-input type="text" disabled="true"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Seudónimo</ion-label>
          <ion-input type="text" disabled="true"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label floating>Contraseña</ion-label>
          <ion-input type="password" disabled="true"></ion-input>
        </ion-item>
        <div padding>
          <button block type="submit" disabled="true">Registrarse</button>
        </div>
      </form>

    </div>

    <div *ngIf="auth.authenticated()">
      <h1>Hola, <i>{{ user }}</i>.</h1>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam ligula eros, euismod eu gravida eget, vulputate scelerisque sapien. Morbi iaculis.</p>

      <button block type="button" (click)="openMisExpedientesPage('')">
        <ion-icon name='briefcase'></ion-icon>
        Ver mis expedientes
      </button>

      <p>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias.</p>

      <button block outline danger type="button" (click)="logout()">Salir</button>
    </div>

    <div padding>
      <p *ngIf="error" class="error">{{ error }}</p>
    </div>

</ion-content>
